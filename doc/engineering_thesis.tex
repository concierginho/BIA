\documentclass{article}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[polish]{babel}
\usepackage{ragged2e}
\usepackage{blindtext}
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{setspace}
\usepackage{tabulary}
\usepackage{enumitem}
\usepackage{url}
\usepackage{subfig}
\usepackage{float}
\usepackage[ampersand]{easylist}
\usepackage{xcolor}
\usepackage{sectsty}
\usepackage[font=large,labelfont=bf]{caption}
%\usepackage{showframe}

\geometry{left=3cm, right=3cm, top=1.5cm, bottom=1.5cm}
\graphicspath{ {./images/} }

\begin{document}
\input{title_page.tex}

\sectionfont{\LARGE}
\subsectionfont{\Large}
\subsubsectionfont{\large}

\setstretch{2.5}
    \newpage
    {
        \Large
        \justifying
        Uprzedzony o odpowiedzialności karnej na podstawie art. 115 ust. 1 i 2 ustawy z dnia 4 lutego
        1994 r. o prawie autorskim i prawach pokrewnych (tj. Dz.U. z 2006 r. Nr 90, poz. 631 z późn.
        zm.): „Kto przywłaszcza sobie autorstwo albo wprowadza w błąd co do autorstwa całości lub
        części cudzego utworu albo artystycznego wykonania, podlega grzywnie, karze ograniczenia
        wolności albo pozbawienia wolności do lat 3. Tej samej karze podlega, kto rozpowszechnia bez
        podania nazwiska lub pseudonimu twórcy cudzy utwór w wersji oryginalnej albo w postaci
        opracowania, artystyczne wykonanie albo publicznie zniekształca taki utwór, artystyczne
        wykonanie, fonogram, wideogram lub nadanie.”, a także uprzedzony o odpowiedzialności
        dyscyplinarnej na podstawie art. 211 ust. 1 ustawy z dnia 27 lipca 2005 r. Prawo o szkolnictwie
        wyższym (tj. Dz. U. z 2012 r. poz. 572, z późn. zm.) „Za naruszenie przepisów obowiązujących
        w uczelni oraz za czyny uchybiające godności studenta student ponosi odpowiedzialność
        dyscyplinarną przed komisją dyscyplinarną albo przed sądem koleżeńskim samorządu
        studenckiego, zwanym dalej „sądem koleżeńskim”, oświadczam, że niniejszą pracę
        dyplomową wykonałem osobiście, samodzielnie, i że nie korzystałem ze źródeł innych niż
        wymienione w pracy.
    }

    \vfill

    \begin{center}
        {
            \Large
            \setstretch{1.0}
            \setlength{\tabcolsep}{2em}
            \begin{tabulary}{0.75\textwidth}{ c c c }
                Kraków, dnia........................ && ................................\\
                (miejscowość)& & (podpis)\\
            \end{tabulary}
        }
    \end{center}
    
    \newpage
    \begin{center}
        {
            \Large
            \setstretch{1.0}
            \tableofcontents
        }
    \end{center}
    \newpage
    
    \section{Wstęp}
    \setstretch{1.5}
    {
        \Large
        \justifying
        \quad 
        Każdy dzień to nowy rekord postępu dla całej cywilizacji technicznej.
        Szybkość z jaką pojawiają się nowe technologie stale rośnie.
        Nikogo nie dziwi już ile ludzkość potrafi dokonać w ciągu dwudziestu czterech godzin.
        Obecny trend rozwoju zawdzięczamy pojawieniu się komputerów.
        Komputery zastąpiły ludzi w wielu czynnościach, stworzyły także nowe miejsca pracy.
        Wyreczają nas w skomplikowanych obliczeniach, pozwalają testować systemy bezpieczeństwa w samochodach bez konieczności ich niszczenia, nauczyliśmy je nawet pilotować olbrzymie samoloty.
        Każdy z nas nosi w kieszeni większą moc obliczeniową niż komputery obecne na statkach kosmicznych, które lądowały na księżycu w ramach programu Apollo.
        Zaprzęgnięcie komputerów do automatyzacji pracy, którą ludzie do tej pory wykonywali ręcznie zaoszczędza nam sporo czasu.
        Charakter tej pracy jest analogiczny - zastąpienie ludzi w mozolej, ręcznej ocenie adhezji składników komórkowych -
        automatycznym procesem, który przez człowieka będzie tylko nadzorowany.
    }
    
    \vspace{0.5cm}
    \setstretch{1.5}
    {
        \Large
        \justifying
        Jedną z najważniejszych dziedzin, w której komputery znalazły zastosowanie jest medycyna.
        Postęp w tej dziedzinie ratuje każdego dnia miliony istnień na całym świecie.
        W niniejszej pracy podjęto próbę oceny adhezji składników komórkowych wykorzystując do tego analizę i przetwarzanie obrazów cyfrowych pochodzących z mikroskopu.
        Z pomocą odpowiednich algorytmów zliczone zostają obiekty widoczne na zdjęciu.
        Następnie bazując na faktach o składnikach komórkowych krwii obiekty zostają zakwalifikowane jako komórka krwii lub odrzucone.
    }

    \vspace{0.5cm}
    \setstretch{1.5}
    {
        \Large
        \justifying
        Założeniem pracy było stworzenie łatwej w obsłudze biblioteki napisanej w języku C++.
        Biblioteka napisana została w taki sposób, aby z łatwością można było dołączyć ją do istniejących projektów w środowisku Visual Studio.
        Cele poboczne pracy to stworzenie interfejsu użytkownika w celu zaprezentowania funkcjonalności bibilioteki.
        Do tego celu wykorzystana została aplikacja na komputery osobiste z wykorzystaniem .NET Framework 4.7.2.
        Dokładny opis biblioteki jak i interfejsu użytkownika ma miejsce w rozdziale drugim po części teoretycznej, traktującej o wszystkich wykorzystanych w programie zagadnieniach związanych z analizą i przetwarzaniem obrazów cyfrowych.
    }

    \vfill

    \newpage
    \section{Cele i założenia}
        \subsection{Cel główny}
        \setstretch{1.5}
        {
            \Large
            \justifying
            \quad
            Celem głównym było stworzenie biblioteki zajmującej się analizą i przetwarzaniem obrazów cyfrowych.
            Biblioteka ma za zadanie ocenę adhezji komórek krwi widocznych na obrazach pochodzących z mikroskopu, ma również ułatwić oraz usprawnić pracę ludzi.
            Podczas pracy nad biblioteką utrzymywany był kontakt z osobami, które będą z niej korzystać.
            Biblioteka napisana została w taki sposób, aby dostosować jej funkcjonalności do istniejącej już metodologii.
            Dzięki temu analiza obrazów niosących informacje na temat krwi pozwoli zaoszczędzić znaczącą ilość czasu.
        }
        \subsection {Cel poboczny}
        \setstretch{1.5}
        {
            \Large
            \justifying
            \quad
            Celem pobocznym było stworzenie interatywnej aplikacji okienkowej, w której zaprezentowane zostało działanie biblioteki.
            Aplikacja służy zaprezentowaniu procesów zachodzących podczas analizy i przetwarzania obrazów cyfrowych.
            Pozwala również na interakcje z procesem, jego zmianę, zatrzymanie, dostosowanie parametrów oraz podgląd tego co się dzieje w czasie rzeczywistym.
            Do tego celu zostały wykorzystane następujące technologie: C++/CLI, C\#, Windows Presentation Foundation oraz .NET Framework 4.7.2.
        }
        \subsection{Założenia}
        \setstretch{1.5}
        {
            \Large
            \justifying
            \quad
            Głównym założeniem tworzonego oprogramowania było stworzenie biblioteki w taki sposób, aby osoby z niej korzystające z łatwością mogły dodać ją do swoich projektów w środowisku Visual Studio 2019.
            Funkcjonalności jakie niesie ze sobą nie skupiają się wyłącznie na analizie i przetwarzaniu obrazów cyfrowych.
            Biblioteka dba również o to, aby struktura folderów była w należytym stanie na podstawie głównego folderu.
            Główny folder powinien gromadzić kolejne foldery, tak zwane eksperymenty, gdzie przez eksperyment rozumiemy folder, w którym znajdują się dane pochodzące z mikroskopu.
            W każdym z takich folderów dodane zostają odpowiednie pliki odpowiedzalne za ustawienia.
            Jeżeli dany eksperyment posiada już plik ustawień, jest to jasny sygnał dla programu, że nie należy dodawać kolejnego.
        }

        \newpage
        \setstretch{1.5}
        \subsection{Podstawowe funkcje biblioteki}
        {
            \Large
            \quad
            \begin{enumerate}
                \item Analiza drzewa folderów,
                \item Zliczanie komórek krwi na obrazach cyfrowych,
                \item Zapis wyniku pracy algorytmu zliczającego liczbę komórek krwi w ramach eksperymentu do pliku.
            \end{enumerate}
        }

        \subsection{Podstawowe funkcje aplikacji okienkowej}
        {
            \Large
            \quad
            \begin{enumerate}
                \item Możliwość zmiany ustawień przetwarzania obrazów w ramach eksperymentu --> GUI,
                \item Możliwość dostosowania parametrów dla każdego z obrazów w czasie rzeczywistym --> GUI,
                \item Możliwość śledzenia algorytmu w czasie rzeczywistym --> GUI,
                \item Możliwość podglądu postępu przetwarzania obrazów --> GUI,
                \item Wyświetlanie histogramu w ramach eksperymentu --> GUI,
                \item Możliwość wyświetlania czasu przetwarzania danego obrazu --> GUI,
            \end{enumerate}
        }

        \setstretch{1.5}
        \subsection{Rekomendacje}
        {
            \Large
            \justifying
            \quad
            Użytkownikom oprogramowania rekomenduje sie wykorzystywanie biblioteki na systemie operacyjnym Windows 10 w projektach budowanych z wykorzystaniem MSBuild (Microsoft Build Engine) w konfiguracji 32 lub 64-bitowej \cite{msdocsmsbuild}.
        }

    \newpage
    \section{Część teoretyczna}
        \subsection{Adhezja komórek}
        {
            \label{sec:adhezja-komorek}
            \Large
            \justifying
            \quad
            Adhezja komórek - to proces, w którym komórki za pomocą cząsteczek znajdujących się w błonie komórkowej, oddziałują między sobą, co umożliwa ich przyleganie.
            Interakcja między komórkami zachodzi dzięki białkom błony należącymi do grupy cząsteczek adhezyjnych CAMs \textit{cell-adhesion molecules} (w tym kadheryny, selektyny, integryny, nadrodzina immunoglobulin), umożliwia tworzenie połączeń miedzykomórkowych i ich przyleganie
            \cite{Molecular Biology of the Cell. 4th edition}.
            Adhezja, z łac. \textit {adhaesio} oznacza \textit{przyleganie} \cite{adhezja}, w kontekscie tej pracy mówimy o większej adhezji, gdy więcej komórek znajduje się na obrazie.
            Analogicznie mniejsza adhezja oznacza mniejszą liczbę komórek.
        }
        \subsection{Rozszerzenie TIFF}
        {
            \label{sec:rozszerzenie-tiff}
            \Large
            \justifying
            \quad
            TIFF - \textit{Tag Image File Format} jest to format plików służący do przechowywania obrazów rastrowych.
            TIFF ma bardzo szerokie zastosowania, od urzadzeń służących do skanowania czy wysyłania faksów do analizy i przetwarzania obrazów cyfrowych.
            Format stworzony przez \textit{Aldus Corporation}, nieistniejącego już dzisiaj przedsiębiorstwa przejętego w 1994 przez \textit{Adobe}.
            TIFF jest elastycznym i adaptatywnym typem plików służącym do przechowywania zdjęć bez utraty ich jakości.
            Dzięki temu, że przechowywane dane nie tracą jakości, TIFF jest używany do archiwizacji zdjęć, ponieważ w przeciwieństwie do rozszerzenia JPEG,
            TIFF może być zmieniany i zapisywany wielokrotnie bez utraty jakości obrazu.
            Rozszerzenie to niesie ze sobą możliwość pracy zarówno wykorzystując kolory z palety RGB czy też monochromatyczne.
            Jest to bardzo użyteczny format, szczególnie w kontekscie analizy i przetwarzania obrazów cyfrowych \cite{Encyclopedia of Graphics File Formats: The Complete Reference}.
        }
        \subsection{Binaryzacja}
        {
            \label{sec:binaryzacja}
            \Large
            \justifying
            \quad
            Binaryzacja - służy do stworzenia nowego obrazu na podstawie innego w taki sposób, aby zaznaczyć interesujący nas fragment na czarno(białe tło)
            lub na biało(czarne tło). Jak sama nazwa wskazuje wartości w nowym obrazie są 0 lub 1. Dzięki binaryzacji jesteśmy w stanie przetwarzać obraz
            tylko dla fragmentów zaznaczonych w procesie binaryzacji. Binaryzację można przeprowadzać na przykład na podstawie wartości kolorów w poszczególnych
            macierzach RGB. Na przykład: 
            jeżeli \(czerwony > 150\), \(zielony > 200\) i \(niebieski < 122\) to wartość danego pixela w nowym obrazie równa się 1.
            Teraz wystarczy zastosować to dla każdego piksela w obrazie wejściowym i naszym obrazem wyjściowym staje się obraz o tym samym rozmiarze
            z zaznaczonym na czarno obszarem, gdzie macierze RGB miały wartości \(czerwony > 150\), \(zielony > 200\) i \(niebieski < 122\).
            Tak więc, gdy dokonamy już binaryzacji jesteśmy gotowi do kolejnych działań.
            Takich jak na przykład etykietowanie, erozja, dylatacja, otwarcie, zamkniecie czy innego rodzaju operacje morfologiczne \cite{Digital Image Processing Second Edition}.
        }
        \subsection{Element Strukturalny}
        {
            \label{sec:element-strukturalny}
            \Large
            \justifying
            \quad
            Element Strukturalny - operacje morfologiczne opierają się na elemencie strukturalnym.
            Przez element strukturalny należy rozumieć ruchome okno, które przykładane jest do każdego piksela w obrazie.
            Na podstawie wartości w sąsiedztwie wykonywane są pewne operacje.
            Po przyłożeniu punktu centralnego do piksela, sprawdzana jest wartość tego piksela.
            Jeżeli wartość ta jest równa \(1\) to zazwyczaj oznacza to aktywację.
            Na przykład zamalowanie odpowiednich sąsiadów danego piksela zgodnie z tym, jak wygląda element strukturalny.
            Każdy z punktów elementu strukturalnego ma odpowiednią wartość.
            Punkt centralny punktu strukturalnego to miejsce, które przykłada się do kolejnych pikseli w obrazie binarnym, w zależności od operacji morfologicznej, która jest przeprowadzana.
            Pozostałe piksele przyjmują jakąś wartość \(0\) lub \(1\).
            Przykłady elementów strukturalnych (granatowym kolorem zaznaczono punkty centralne, szarym wartość \(1\), białym wartość \(0\)) przedstawiono na Rysunkach od \ref{elementy_strukturalne} \cite{Digital Image Processing Second Edition}.
        }

        \begin{figure}[H]
            \centering
            \subfloat[\centering]{{\includegraphics[width=90px]{element_strukturalny_1.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=90px]{element_strukturalny_2.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=90px]{element_strukturalny_3.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=90px]{element_strukturalny_4.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=90px]{element_strukturalny_5.png}}}
            \caption{(\textit{Opracowanie własne}) Element Strukturalny.
            (a) Przykład elementu strukturalnego o rozmiarze \(3 \times 3\) z punktem centralnym w środku.
            Wszystkie piksele elementu strukturalnego posiadają wartość równą 1.\\
            (b) Przykład elementu strukturalnego o rozmiarze \(3 \times 3\) z punktem centralnym w środku.
            Lewy dolny, lewy górny, prawy dolny oraz prawy górny piksel posiada wartość 0.\\
            (c) Przykład elementu strukturalnego o rozmiarze \(3 \times 3\) z punktem centralnym w lewym dolnym rogu.
            Lewy górny, prawy górny oraz prawy dolny piksel posiada wartość 0.\\
            (d) Przykład elementu strukturalnego o rozmiarze \(3 \times 3\) z punktem centralnym w środku.
            Lewy środkowy, prawy środkowy, dolny środkowy oraz górny środkowy piksel posiada wartość 0.\\
            (e) Przykład elementu strukturalnego o rozmiarze \(3 \times 3\) z punktem centralnym w dolnym środkowym pikselu.
            Lewy dolny, lewy środkowy, środkowy oraz prawy dolny piksel mają wartość równą 0.}
            \label{elementy_strukturalne}
        \end{figure}

        \subsection{Sąsiedztwo}
        {
            \label{sec:sasiedztwo}
            \Large
            \justifying
            \quad
            Sąsiedztwo - jest to sposób w jaki zdefiniowane jest otoczenie danego piksela.
            Wyróżnia się dwa głowne sąsiedztwa: Moore'a (Rysunek \ref{neighbourhood}(a)) oraz Von Neumann'a (Rysunek \ref{neighbourhood}(b)) \cite{Digital Image Processing Second Edition}.
        }
        \begin{figure}[H]
            \centering
            \subfloat[\centering]{{\includegraphics[width=90px]{element_strukturalny_1.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=90px]{element_strukturalny_2.png}}}
            \caption{(\textit{Opracowanie własne}) (a) Sąsiedztwo Moore'a. (b) Sąsiedztwo Von Neumann'a.}
            \label{neighbourhood}
        \end{figure}

        \subsection{Erozja}
        {
            \label{sec:erozja}
            \Large
            \justifying
            \quad
            Erozja - czyli zwężanie, to przyłożenie elementu strukturalnego do każdego piksela \(p_{ij}\) na obrazie w celu sprawdzenia czy choć jeden piksel z sąsiedztwa \(p_{ij}\) ma wartość równą zero.
            Jeżeli tak, to punkt centralny również przyjmuje wartość 0. W przeciwnym przypadku wartość pozostaje bez zmian \cite{Digital Image Processing Second Edition}.
        }

        \begin{figure}[H]
            \centering
            \subfloat[\centering]{{\includegraphics[width=90px]{element_strukturalny_1.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=90px]{przed_erozja.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=90px]{po_erozji.png}}}
            \caption
            {
                (\textit{Opracowanie własne}) Erozja.
                (a) Element strukturalny użyty w operacji.
                (b) Stan przed erozją z wykorzystaniem elementu strukturalnego z podpunktu (a).
                (c) Stan po erozji z wykorzystaniem elementu strukturalnego z podpunktu (a).
                Granatowym kolorem zaznaczono punkt centralny elementu strukturalnego, natomiast czerwonym piksele, które zmieniły wartości z 1 na 0.
            }
            \label{erozja}
        \end{figure}

        \subsection{Dylatacja}
        {
            \label{sec:dylatacja}
            \Large
            \justifying
            \quad
            Dylatacja - czyli rozszerzanie, polega na przyłożeniu elementu strukturalnego do każdego piksela \(p_{ij}\) na obrazie w celu sprawdzenia czy choć jeden z pikseli z sąsiedztwa \(p_{ij}\) ma wartość równą jeden.
            Jeżeli tak, to punkt centralny również przyjmuje wartość 1, w przeciwnym wypadku wartość nie ulega zmianie \cite{Digital Image Processing Second Edition}.
        }

        \begin{figure}[H]
            \centering
            \subfloat[\centering]{{\includegraphics[width=90px]{element_strukturalny_1.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=90px]{przed_dylatacja.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=90px]{po_dylatacji.png}}}
            \caption
            {
                (\textit{Opracowanie własne}) Dylatacja.
                (a) Element strukturalny użyty w operacji.
                (b) Stan przed dylatacją z wykorzystaniem elementu strukturalnego z podpunktu (a).
                (c) Stan po dylatacji z wykorzystaniem elementu strukturalnego z podpunktu (a).
                Granatowym kolorem zaznaczono punkt centralny elementu strukturalnego, natomiast zielonym piksele, które zmieniły wartości z 0 na 1.
            }
            \label{dylatacja}
        \end{figure}

        {
            \Large
            \justifying
            \quad
            Dylatacja i erozja są operacjami dualnymi.
            Oznacza to, że jeżeli wykonamy negatyw obrazu, a nastepnie zadziałamy identycznym elementem strukturalnym na negatyw, to skutkiem takich działań będzie odwrotność działania erozji z dylatacją.
            Erozja na negatywie zadziała z takim samym skutkiem, jak dylatacja na oryginale.
            Natomiast zastosowanie dylatacji na negatywie przyniesie takie same skutki jak wykonanie erozji na oryginale.
        }

        \vspace{0.5cm}

        {
            \Large
            \justifying
            \quad
            Należy zauważyć, że dylatacja i erozja nie są operacjami odwrotnymi.
            Przykłady powyżej (Rysunek \ref{erozja}, Rysunek \ref{dylatacja}) mogą coś takiego sugerować, jednak tak nie jest.
            Dzięki dylatacji możemy zamykać otwory w obiektach znajdujących się na obrazie.
            Po wykonaniu takiej operacji i zamknięciu obiektu, erozja nie sprawi, że obiekt na nowo się otworzy.
            To samo tyczy się pojedynczych punktów (piksele, których każdy sąsiad ma wartość 0).
            Zadziałanie na taki pojedynczy piksel erozją sprawi, że zmieni on wartość z 1 na 0.
            Nie da się zadziałać dylatacją w taki sposób, aby taki punkt na nowo się pojawił.
            Pozwala to wyciągnąc następujące wnioski:
            Dylatacja jest świetnym sposobem na zamykanie drobnych dziur.
            Erozja jest świetna w usuwaniu małych obiektów.
            Jednak te operacje mają swoje minusy, nie działamy erozją czy dylatacją tylko na wybrane punkty.
            Działamy nimi na cały obraz.
            Właśnie dlatego powstały dwie kolejne operacje: otwarcie oraz zamknięcie.
        }

        \subsection{Otwarcie morfologiczne}
        {
            \label{sec:otwarcie-morfologiczne}
            \Large
            \justifying
            \quad
            Otwarcie morfologiczne - jest równoważne dwom następującym po sobie operacjom na obrazie: erozji, a następnie dylatacji.
            Operacja ta pozwala usunąć małe elementy, tak zwany szum i następnie odbudować te obiekty, które ucierpiały na skutek erozji.
            Dzięki temu uzyskujemy czysty obraz, pozbawiony drobnych obiektów.
            Jak możemy zauważyć na Rysunku \ref{Otwarcie_Morfologiczne}(b), pojedyncze piksele (nie posiadające sąsiadów z wartością 1 zostały usunięte), następnie reszta obiektów zostaje odbudowana \cite{Digital Image Processing Second Edition}.
        }
        \begin{figure}[H]
            \centering
            \subfloat[\centering]{{\includegraphics[width=170px]{otwarcie-morfologiczne-stan-poczatkowy.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=170px]{otwarcie-morfologiczne-stan-po-erozji.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=170px]{otwarcie-morfologiczne-stan-po-dylatacji.png}}}
            \caption
            {
                (\textit{Opracowanie własne}) Otwarcie Morfologiczne.
                (a) Stan początkowy.
                (b) Stan po erozji z wykorzystaniem elementu strukturalnego z rysunku \ref{elementy_strukturalne}(a).
                (c) Stan po dylatacji z wykorzystaniem elementu strukturalnego z rysunku \ref{elementy_strukturalne}(a).
                Szarym kolorem zaznaczono piksele, które posiadają wartość 1, czerwonym te, które zmieniły wartość z 1 na 0. Zielonym natomiast zaznaczone te piksele, które zmieniły wartość z 0 na 1.
            }
            \label{Otwarcie_Morfologiczne}
        \end{figure}

        \subsection{Zamknięcie morfologiczne}
        {
            \label{sec:zamkniecie-morfologiczne}
            \Large
            \justifying
            \quad
            Zamknięcie morfologiczne - jest równoważne dwom następującym po sobie operacjom na obrazie: dylatacji, a następnie erozji.
            Wykonanie dylatacji, a następnie erozji pozwala na zamknięcie (przez zamknięcie należy rozumieć wypełnienie otworu wewnątrz obiektu, tak jak pokazano na Rysunku \ref{Zamkniecie_morfologiczne}(b)) niektórych obiektów, a następnie przywrócenie pozostałych obiektów do stanu sprzed dylatacji.
            Jak możemy zauważyć na Rysunku \ref{Zamkniecie_morfologiczne}(c), piskele, które wcześniej były odłączone od wiekszego obiektu ale leżały niedaleko teraz stanowią integralną jego cześć, a dwa większe obiekty połączyły się \cite{Digital Image Processing Second Edition}.
        }

        \begin{figure}[H]
            \centering
            \subfloat[\centering]{{\includegraphics[width=170px]{zamkniecie-morfologiczne-stan-poczatkowy.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=170px]{zamkniecie-morfologiczne-stan-po-dylatacji.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=170px]{zamkniecie-morfologiczne-stan-po-erozji.png}}}
            \caption
            {
                (\textit{Opracowanie własne}) Zamknięcie Morfologiczne.
                (a) Stan początkowy.
                (b) Stan po dylatacji z wykorzystaniem elementu strukturalnego z rysunku \ref{elementy_strukturalne}(a).
                (c) Stan po erozji z wykorzystaniem elementu strukturalnego z rysunku \ref{elementy_strukturalne}(a).
                Szarym kolorem zaznaczono piksele, które posiadają wartość 1, czerwonym te, które zmieniły wartość z 1 na 0. Zielonym natomiast zaznaczone te piksele, które zmieniły wartość z 0 na 1.
            }
            \label{Zamkniecie_morfologiczne}
        \end{figure}
        \subsection{Korekcja Gamma}
        {
            \label{sec:korekcja-gamma}
            \Large
            \justifying
            \quad
            Korekcja Gamma - operacja punktowa wykonywana na obrazie monochromatycznym, która bazuje na krzywej gamma i wyraża się ją za pomocą wzoru \(L'(x,y) = L(x,y)^\gamma\).
            Zastosowanie \(\gamma = 1\) sprawi, że obraz pozostanie bez zmian.
            Natomiast w przypadku, gdy \(\gamma > 1\) obraz zostanie przyciemniony.
            Analogicznie jest, gdy \(\gamma < 1\), to obraz zostanie rozjaśniony \cite{Digital Image Processing Second Edition}.
        }
        \begin{figure}[H]
            \centering
            \subfloat[\centering]{{\includegraphics[width=170px]{GammaCorrection_Start.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=170px]{GammaCorrection_Rozjasnienie085.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=170px]{GammaCorrection_Przyciemnienie110.png}}}
            \caption
            {
                (\textit{Opracowanie własne}) Korekcja Gamma.
                (a) Stan początkowy.
                (b) Stan po korekcji gamma z parametrem \textit{0.85}.
                (c) Stan po korekcji gamma z parametrem \textit{1.10}.
            }
            \label{Korekcja_Gamma}
        \end{figure}
    \section{Część Praktyczna}

        \subsection{Wykorzystane oprogramowanie}
        \subsubsection{Gimp 2.10.22}
        {
            \label{sec:gimp}
            \Large
            \justifying
            \quad
            Gimp 2.10.22 - program graficzny służący do tworzenia i edycji grafiki rastrowej \cite{Program GIMP}.
            Program został wykorzystany do przygotowania wszystkich grafik znajdujących się w pracy oznaczonych słowami \emph{``opracowanie własne''}.
        }

        \subsubsection{CMake 3.19.0}
        {
            \label{sec:cmake}
            \Large
            \justifying
            \quad
            CMake 3.19.0 - oprogramowanie, które służy do testowania, budowania oraz upakowania źródeł programu.
            CMake został wykorzystany do wygenerowania projektów na podstawie źródel biblioteki \emph{LibTIFF}.
            Wyżej wymienione projekty mogą można otworzyć, a następnie zbudować za pomocą programu {Visual Studio 2019} \cite{Program CMake}.
        }

        \subsubsection{LibTIFF 4.2.0}
        {
            \label{sec:LibTIFF}
            \Large
            \justifying
            \quad
            LibTIFF 4.2.0 - biblioteka służąca do manipulacji obrazami typu TIFF, typ ten dokładniej został opisany w rozdziale \ref{sec:rozszerzenie-tiff}.
            Biblioteka została wybrana, ponieważ pozwala w łatwy sposób odczytywać informacje zapisane w obrazach.
            Napisana jest w języku C, więc w łatwy sposób można wykorzystać ją w programach pisanych w języku C++ \cite{Biblioteka LibTIFF}.
        }
        \subsubsection{Visual Studio 2019}
        {
            \label{sec:VisualStudio2019}
            \Large
            \justifying
            \quad
            Visual Studio 2019 - doskonały program do pisania oprogramowania wykorzystując technologie pochodzące od firmy \emph{Microsoft} \cite{VS2019}.
            W Visual Studio 2019 jak nigdzie indziej można z powodzeniem łączyć języki C++ oraz C\# za pomocą C++/CLI.
            Dzięki takim możliwościom, można z powodzeniem tworzyć oprogramowanie składające się z wielu mniejszych programów, które napisane są w różnych językach.
            Dla przykładu: tworzymy bibliotekę napisaną w C++, ponieważ zależy nam na tym, aby operacje wykonywały się bardzo szybko.
            Interfejs użytkownika jest napisany w C\#, ponieważ robi się to w prosty i szybki sposób.
            Następnie całość łączymy wykorzystując C++/CLI.
            Wynikiem takiego działania będzie program posiadający interfejs graficzny i łączący w sobie C++ oraz C\#.
        }
        \subsubsection{\LaTeX}
        {
            \label{sec:LaTeX}
            \Large
            \justifying
            \LaTeX - wysokiej jakości system służący do tworzenia dokumentów w przystępny sposób \cite{LaTeX}.
            Dzięki \LaTeX, proces tworzenia spisu treści, spisu grafik czy bibliografii jest automatyzowany.
            Odwołania do konkretnych rozdziałów, podrozdziałów czy źródeł to kwestia wywołania funkcji \emph{cite} lub \emph{ref}.
            Jest standardem publikacji dokumentów naukowych i technicznych.
        }
        \subsubsection{Visual Studio Code}
        {
            \label{sec:VisualStudioCode}
            \Large
            \justifying
            \quad
            Visual Studio Code - uniwersalny edytor z ogromną bazą rozszerzeń, dostępny na każdej z platform \emph{Windows}, \emph{Linux} oraz \emph{MacOS}, umożliwiający tworzenie oprogramowania niemal w każdym języku \cite{VSCode}.
            W swojej pracy wykorzystałem \emph{Visual Studio Code} jako edytor tekstowy plików z rozszerzeniem \emph{tex}, które następnie były wykorzystywane przez program \LaTeX (\ref{sec:LaTeX}).
        }
        \subsubsection{.NET Framework 4.7.2}
        {
            \label{sec:.NETFramework 4.7.2}
            \Large
            \justifying
            \quad
            .NET Framework 4.7.2 - oprogramowanie stworznone przez firme \textit{Mircosoft} pozwalające na
            tworzenie szerokiej gamy aplikacji, które działają głownie na systemach \textit{Windows}.
            W kontekscie tej pracy .NET Framework 4.7.2 został wykorzystany w celu uruchomienia zarówno kodu zarządzalnego (napisanego w języku C\#)
            oraz natywnego (napisanego w języku C++) \cite{.NET Framework}.
        }
        \subsubsection{nlohmann.json 3.9.1}
        {
            \label{sec:nlohman.json 3.9.1}
            \Large
            \justifying
            \quad
            nlohmann.json 3.9.1 - prosta w obsłudze biblioteka pozwalająca na tworzenie, modyfikowanie oraz odczytywanie informacji
            z obiektów typu \textit{json} \cite{nlohmann.json 3.9.1}.
        }
        \subsection{Budowa oprogramowania}
        {
            \Large
            \justifying
            \quad
            Aby wykorzystac bibliotekę BIA.Core w swoim projekcie, należy najpierw zbudować tę bibliotekę.
            Kolejnym etapem jest wykorzystanie plików zawartych w katalogu, do którego biblioteka zostanie zbudowana,
            oraz dodanie pliku ``BIA.h'' za pomocą dyrektywy \textit{\#include}.
            Wykorzystanie biblioteki LibTIFF 4.2.0 w programie pisanym w języku C++ opartym o MSBuild polega na tym, że należy najpierw ręcznie zbudować tę bibliotekę przy użyciu narzędzia \textit{nmake} oraz \textit{Command Prompt for Visual Studio 2019} \cite{Biblioteka LibTIFF}.
            W związku z powyższym, w programie \textit{Visual Studio 2019} trzeba dodać ścieżkę do miejsca, w którym znajduje się zbudowana przez nas biblioteka.
            Przykładowo ``D:/tiff-4.2.0/libtiff''.
        }
        \subsection{\textcolor{blue}{Diagramy klas}}
        \begin{figure}[H]
            \centering
            \subfloat[\centering]{{\includegraphics[width=\textwidth]{MainClassDiagram.png}}}
            \qquad
            \subfloat[\centering]{{\includegraphics[width=\textwidth]{OperationClassDiagram.png}}}
            \caption
            {
                \textcolor{blue}
                {
                (\textit{Opracowanie własne}) Diagramy klas biblioteki BIA.Core.\\
                (a) Główny diagram klas. Przedstawione na nim klasy odpowiadają za najwazniejsze funkcje biblioteki.\\
                (b) Diagram klas przedstawiający operacje, których wykonanie na obrazach umożliwia biblioteka.
                }
            }
            \label{class_diagram}
        \end{figure}
        \subsection{Omówienie implementacji}
        {
            \label{omowienieimplementacji}
            \Large
            \justifying
            \quad
            Główną klasą biblioteki BIA.Core jest ta o nazwie ``BIA''
            (Rysunek \ref{class_diagram} podpunkt (a)).
            Nazwa jej pochodzi od angielskich słów ``Blood Image Analyzer'', czyli ``Analizator Obrazów Krwi''.
            Głównym zadaniem klasy ``BIA'' jest zebranie wszystkich funkcjonalności biblioteki w wygodny do użycia sposób.
            Zawiera ona prywatne pole o nazwie ``\_rootPath'', które jest odpowiedzialne za przetrzymywanie ścieżki do wybranego przez nas katalogu.
            Posiada również wskaźnik do typu ``BIAManagerKeeper'', który ma za zadanie inicjalizację menadżerow oraz umożliwić ich późniejsze wykorzystanie.
            Każdy z menadżerów niesie ze sobą odpowiednie funkcjonalności - w zależności od ich nazwy.
            ``BIAImageManager'' zarzadzana obrazami.
            ``BIAExperimentManager'' odpowiedzialny jest za ``eksperymenty''.
            ``BIAFileManager'' pozwala na zarządzanie plikami.
            ``BIALoggingManager'' daje możliwość wypisywania odpowiednich komunikatów do pliku.
            ``BIAProcessManager'' sprawuje pieczę nad asynchronicznym rozpoczęciem dwóch procesów: przygotowania eksperymentów oraz przetwarzania obrazów,
            a także nad ich przerwaniem.
            ``TIFFSettingsManager'' pozwala na odczytanie, zmianę oraz zapisanie ustawień obrazów.
            Aby poprawnie skorzystać z funkcjonalności klasy ``BIA'' należy po stworzeniu obiektu tej klasy wywołać funkcję ``Init''.
            Funkcja ta odpowiedzialna jest za utworzenie wszystkich potrzebnych obiektów, w tym inicjalizacje ``BIAManagerKeeper''.
            Gdy ``BIAManagerKeeper'' zostanie zainicjalizowany, utworzeni zostają pozostali menadżerowie.
            Domyślny konstruktor klasy ``BIA'' przyjmuje jako parametr ścieżkę do katalogu, która naastępnie zostaje zapisana do zmiennej ``\_rootPath''.
            Jest to bardzo ważna rzecz, gdyż od tego zależy poprawne funkcjonowanie całej biblioteki.
            Destruktor ``~BIA'' działa w taki sposób, że gdy zostanie wywołany to usunięte zostają wszystkie obiekty, któych używa biblioteka.
            Zapobiega to wyciekaniu pamięci, a także jej niekontrolowanemu wykorzystaniu.
            Funkcja ``GetKeeper'' zwraca wskaźnik do obiektu ``BIAManagerKeeper''.
            ``GetRootPath'' pozwala na otrzymanie ścieżki, do głównego katalogu.
            ``OperationRoutine'' wykonuje operacje (operacje zapisywane są w pliku 
            ``recipe.json'') na każdym z obrazów.
            ``PrepareBIARoutine'' dzieli główne obrazy na mniejsze i przygotowuje wszystkie potrzebne do późniejszej fazy pliki.
            Obydwie powyższe metody można uruchomić w sposób asynchroniczny za pomocą ``BIAProcessManager'', nie jest to jednak przymus.
            ``SetKeeper'' pozwala na ustawienie obiektu ``BIAManagerKeeper''.
            ``SetRootPath'' pozwala na zmiane ścieżki do katalogu głównego.
            ``Start'' odpowiada za uruchomienie odpowiedniego procesu. Jako argument przyjmuje typ wyliczeniowy o nazwie ``EProcess'', jeżeli ustalimy jego wartość na ``EProcess::BIAPROCESS'' to ``BIAProcessManager'' uruchomi asynchronicznie funkcje ``PrepareBIARoutine''. Natomiast w przypadku wartosci ``EProcess::BIAOPERATIONS'' uruchomiona zostanie funkcja ``OperationRoutine'', również w sposób asynchroniczny.
            Funckja ``Stop'' pozwala na zatrzymanie operacji niezależnie od tego, którą z nich uruchomiliśmy wcześniej.
            Pozwala to na oszczędzenie sporej ilości czasu w przypadku, gdy przewidujemy, że proces nie przyniesie pożądanych efektów i chcemy nanieść korekty.
            Zapisana do zmiennej ``\_rootPath'' ściezka będzie postrzegana jako źródło tak zwanych ``eksperymentów''.
            Przez ``eksperyment'' należy rozumieć katalog, w którym znajdują się dwa zdjęcia pochodzące z mikroskopu.
            Zdjęcia te powinny wcześniej zostać wyeksportowane do plików o typie ``.tif'' oraz nazwane w odpowiedni sposób.
            Zdjęcie zorientowane horyzontalnie powinno zawierać w swojej naziwe słowo ``horizontal'', natomiast te zorientowane wertykalnie - ``vertical''.
            Dzięki temu obrazy zostaną zlokalizowane, odpowiednie nazwnictwo pozwoli na zastosowanie odpowiednich do danego ułożenia ustawień.
            Wewnątrz eksperymentu utworzone zostaną dwa katalogi: ``Horizontal'' oraz ``Vertical''.
            W kolejnym kroku utworzone zostaje po czterdzieści katalogów wewnątrz każdego z podkatalogów eksperymentu.
            Do każdego z tych podkatalogów trafia fragment obrazu głównego, który będzie podlegał różnym operacjom.
            Na potrzeby biblioteki dla każdego z wydzielonych obrazów utworzone zostają też pliki: ``preview.tif'', ``recipe.json'' oraz ``results.json''.
            Plik ``preview.tif'' to zbinaryzowany obraz wynikowy, ``recipe.json'' zawiera spis operacji, które mają zostać wykonane na obrazie binarnym, ``results.json'' to plik, do którego zapisywane są wyniki operacji etykietowania (labeling).
            Etykietowanie to operacja, która pozwala na zliczanie obiektów znajdujących się na obrazie binarny w zależności od tego jaką wartość przyjmujemy jako tło. W przypadku tej biblioteki tło jest zaznaczane białym kolorem.
        }

        \vspace{0.5cm}

        {
            \Large
            \justifying
            \quad
            Opisanie wszystkich funkcjonalności bibliteki mija się z celem, gdyż najważniejsze funkcje składają się z niezliczonych mniejszych funkcji odpowiedzialnych za poszczególne operacje. Dlatego też warto skupić się na tym co ważne - operacjach na obrazach.
        }
    \newpage
    \section{Wyniki i dyskusja}
    \newpage
    \section{Wnioski}
    \newpage
    \section{Podsumowanie}
    \newpage
    \section{Bibliografia}
    \begin{thebibliography}{9}

        \bibitem{msdocsmsbuild}
        Microsoft Docs
        \textit{MSBuild}
        \url{https://docs.microsoft.com/en-us/visualstudio/msbuild/msbuild?view=vs-2019}\\
        Stan na dzień 05/12/2020

        \bibitem{Molecular Biology of the Cell. 4th edition}
        Alberts B, Johnson A, Lewis J
        \textit{Molecular Biology of the Cell. 4th edition}
        New York, Garland Science, 2002

        \bibitem{adhezja}
        \textit{Wikipedia}
        \url{https://en.wikipedia.org/wiki/Adhesion#:~:text=Adhesion%20is%20the%20tendency%20of,be%20divided%20into%20several%20types}\\
        Stan na dzień 30/12/2020

        \bibitem{Encyclopedia of Graphics File Formats: The Complete Reference}
        James D. Murray, William VanRyper
        \textit{Encyclopedia of Graphics File Formats: The Complete Reference}
        O'Reilly Media, Second Edition, 1996, strony 880-908

        \bibitem{Digital Image Processing Second Edition}
        Rafael C. Gonzalez, Richard E. Woods
        \textit{Digital Image Processing Second Edition}
        Prentice Hall, Upper Saddle River, New Jersey 2002, strony 81, 523-532

        \bibitem{aipocwiki}
        \textit{Cyforwe przetwarzanie obrazów binarnych}
        \url{https://pl.wikipedia.org/wiki/Cyfrowe_przetwarzanie_obraz%C3%B3w_binarnych}\\
        Stan na dzień 30/12/2020

        \bibitem{LibTIFF tutorial}
        \textit{LibTIFF - Tutorial}
        \url{https://research.cs.wisc.edu/graphics/Courses/638-f1999/libtiff_tutorial.html}\\
        Stan na dzień 09/01/2021
    
        \bibitem{Program GIMP}
        \textit{Program GIMP}
        \url{https://www.gimp.org/}\\
        Stan na dzień 10/01/2021

        \bibitem{Program CMake}
        \textit{Program CMake}
        \url{https://www.cmake.org/}\\
        Stan na dzień 13/01/2021

        \bibitem{Biblioteka LibTIFF}
        \textit{Biblioteka LibTIFF}
        \url{http://www.libtiff.org/}\\
        Stan na dzień 30/12/2020

        \bibitem{VS2019}
        \textit{Program Visual Studio 2019}
        \url{https://visualstudio.microsoft.com/vs/}\\
        Stan na dzień 10/01/2021

        \bibitem{LaTeX}
        \LaTeX \space
        \url{https://www.latex-project.org/}\\
        Stan na dzień 10/01/2021

        \bibitem{VSCode}
        \textit{Program Visual Studio Code}
        \url{https://code.visualstudio.com/}\\
        Stan na dzień 10/01/2021

        \bibitem{.NET Framework}
        \textit{What is .NET Framework?}
        \url{https://dotnet.microsoft.com/learn/dotnet/what-is-dotnet-framework}\\
        Stan na dzień 09/01/2021

        \bibitem{nlohmann.json 3.9.1}
        \textit{nlohmann.json 3.9.1}
        \url{https://github.com/nlohmann/json}\\
        Stan na dzień 30/01/2021

        \bibitem{Building LibTiff}
        \textit{LibTIFF - Building the Software Distribution}
        \url{https://libtiff.gitlab.io/libtiff/build.html}\\
        Stan na dzień 09/01/2021

    \end{thebibliography}
    \newpage
    \listoffigures
\end{document}